services needed:

spawnroot(scorename, listenport)
	generate fsname and fsconsname from the scorename?
	where do we put the /srv files?

fetchroot(dialstring, startscript, listenport)
	should automate the fact that listenport from spawnroot and dialstring here should match

/* actually we should probably package spawnroot and fetchroot together at top level ui? */
/* but make it still possible to separate because you often want multiple userspace on one root */

savesnap [optional name]
	update the rootscore of current name or provide a new name

cleanup
	free resources of the current environment

setup log:

install from ants4.3beta64 iso, venti - chose cpu+auth
sysupdate
update /sys/src/ants, remove ants/frontmods/include/libc.rebuild.complete
build 9front && build fronthost && install in 9fat
set venti listener parameter to public in plan9.ini
add bind -c '#z' /zrv to /lib/namespace
cd /sys/src && mk install && mk clean

repeat process for second node but setup as terminal at first
then change to service=cpu after install
set ndb to point to first node as auth server

fshalt -r both nodes

cp ants/extra/* to /rc/bin on both nodes
. /rc/bin/scorefns && srvscores both nodes
create bkup.info in 9fat for both nodes with venti= string set to other node
perform fs snap on storage and create initial scorenames file in 9fat with that score on both nodes

makectlhub && startstosvc on storage
rimport storage /srv /n/sto && startcpusvc on cpu

=====

(not in needed sequence between machines)

contest2% . /rc/bin/scorefns
contest2% srvscores
contest2% makectlhub
contest2% chmod 666 /srv/gridsvc
contest2% startstosvc
contest2% rimport contest3 / /n/ct3
contest2% mount /n/ct3/srv/fatsrv /n/remote9fat
contest2% hub scosynchub
creating hubfs /srv/scosynchub
io% updatescores

contest2% webfs
contest2% bind -b '#S' /dev
contest2% 9fs 9fat
contest2% cd /n/9fat
contest2% hub proghub
creating hubfs /srv/proghub
io% while(sleep 120)ventiprog

contest3% . /rc/bin/scorefns
contest3% srvscores
contest3% rimport contest2 /srv /n/sto
contest3% startcpusvc

=====

term% rimport -c contest2 / /n/ct2
term% mount /n/ct2/srv/gridsvc /n/g
term% lc /n/g
cpu.err	cpu.in	cpu.out	sto.err	sto.in	sto.out
term% echo spawn 20000 cleanroot >>/n/g/sto.in
term% echo fetch tcp!contest2!20000 20000 >>/n/g/cpu.in
term% cpu -h tcp!contest3!20000
...
term% echo save cleanroot addrsatoys >>/n/g/sto.in
term% echo spawn 20100 addrsatoys >>/n/g/sto.in
term% echo fetch tcp!contest2!20100 20100 >>/n/g/cpu.in
term% cpu -h tcp!contest3!20100
